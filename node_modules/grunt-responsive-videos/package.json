{
  "name": "grunt-responsive-videos",
  "description": "Generate multiple video encodes at varying sizes for responsive, HTML5 video applications",
  "version": "0.0.3",
  "homepage": "https://github.com/sjwilliams/grunt-responsive-videos",
  "author": {
    "name": "Josh Williams",
    "email": "josh@joshwilliams.com",
    "url": "http://joshwilliams.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/sjwilliams/grunt-responsive-videos"
  },
  "bugs": {
    "url": "https://github.com/sjwilliams/grunt-responsive-videos/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/sjwilliams/grunt-responsive-videos/blob/master/LICENSE-MIT"
    }
  ],
  "main": "Gruntfile.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "grunt-contrib-jshint": "~0.6.0",
    "grunt-contrib-clean": "~0.4.0",
    "grunt-contrib-nodeunit": "~0.2.0",
    "grunt": "~0.4.1",
    "underscore": "~1.5.2",
    "async": "~0.2.9",
    "ffmpeg-node": "0.0.1"
  },
  "peerDependencies": {
    "grunt": "~0.4.1"
  },
  "keywords": [
    "gruntplugin",
    "ffmpeg",
    "video",
    "responsive"
  ],
  "readme": "# grunt-responsive-videos\n\n> Generate multiple video encodes at varying sizes for responsive, HTML5 video applications.\n\n## Getting Started\nThis plugin requires Grunt `~0.4.1`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-responsive-videos --save-dev\n```\n\nAdditionally, this plugin requries ffmpeg with libx264 and libvpx to encode .mp4 and .webm, which are common HTML5 codecs, and required for the unit tests.\n```shell\nbrew install ffmpeg --with-libvorbis --with-nonfree --with-gpl --with-libvpx --with-pthreads --with-libx264 --with-libfaac --with-libtheora\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks('grunt-responsive-videos');\n```\n\n## The \"responsive_videos\" task\n\n### Overview\n\nThe responsive_videos task will take source video and generate any number of output resolutions in any codec supported by FFMPEG.\n\nIn your project's Gruntfile, add a section named `responsive_videos` to the data object passed into `grunt.initConfig()`.\n\n```js\ngrunt.initConfig({\n  responsive_videos: {\n    myTask:{\n      options: {\n        // Task-specific options go here.\n      },\n      files[\n      ]\n    }\n  },\n})\n```\n\n### Options\n\n#### options.sizes\nType: `Array`\n\nDefault value:\n\n```js\n[{\n  name: \"small\",\n  width: 320,\n  poster: true\n},{\n  name: \"large\",\n  width: 1024,\n  poster: false\n}]\n```\n\nAn array of objects containing the sizes we want to resize our video to.\n\nIf a `name` is specified, then the file will be suffixed with this name. e.g. my-video-small.mp4\n\nIf a `name` is not specified, then the file will be suffixed with the width. e.g. my-video-320.jpg\n\nIf `poster` is true, create an image from the first frame of the video at this output size. e.g. my-video-320.jpg\n\n#### options.encodes\nType: `Array`\n\nDefault value:\n\n```js\n[{\n  webm: [\n      {'-vcodec': 'libvpx'},\n      {'-acodec': 'libvorbis'},\n      {'-crf': '12'},\n      {'-q:a': '100'},\n      {'-threads': '0'}\n  ],\n  mp4: [\n      {'-vcodec':'libx264'},\n      {'-acodec': 'libfaac'},\n      {'-pix_fmt': 'yuv420p'},\n      {'-q:v': '4'},\n      {'-q:a': '100'},\n      {'-threads': '0'}\n  ]\n  }]\n```\n\nAn array of objects containing the codecs you'd like to produce. The keys are used as the extension, and the array of objects will be converted to flags passed into ffmpeg.\n\nThe above are the defaults for an encode job and should give reasonable results for HTML5 video.\n\n[x264 Encoding Guild](https://ffmpeg.org/trac/ffmpeg/wiki/x264EncodingGuide) and this [VBR settings guide](http://slhck.info/video-encoding.html) explain many of the important flags.\n\n#### options.separator\nType: `String`\nDefault value: `-`\n\nThe character used to separate the video filename from the size name.\n\n### Usage Examples\n\n#### Default Options\nThe default options will produce a .mp4 and a .webm with an poster image at 320px and 640px wide. They will be named my-video-small.ext and my-video-large.ext.\n\n```js\ngrunt.initConfig({\n  responsive_videos: {\n    myTask{\n      options: {},\n      files: {\n        ...\n      }\n    }\n  },\n})\n```\n\n#### Custom Options\nIn this example, we specify custom sizes and a source path. We'll only generate .webm files and poster images, and we'll not using custom naming, falling back to -320.web names instead of -small.webm, etc.\n\n```js\ngrunt.initConfig({\n  responsive_videos: {\n    myTask: {\n      options: {\n        sizes: [{\n          width: 320,\n          poster: true\n        }],\n        encodes:[{\n          webm: [\n            {'-vcodec': 'libvpx'},\n            {'-acodec': 'libvorbis'},\n            {'-crf': '12'},\n            {'-b:v': '1.5M',},\n            {'-q:a': '100'}\n          ]\n        }]\n      },\n      files: [{\n        expand: true,\n        src: ['video/**.{mov,mp4}'],\n        cwd: 'assets/',\n        dest: 'tmp/'\n      }]\n    }\n  },\n})\n```\n## Known Issues\n- Genereated .webm files in unit tests are returning different checksums on every run, making reliabe test impossible. ffmpeg settings issue?\n\n## Contributing\nIn lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/).\n\n## Release History\n*0.0.3*\n\n* Must smaller test media\n\n*0.0.2*\n\n* Dependency fix\n\n*0.0.1*\n\n* Initial Release\n\n## Additional Credit \nThis plugin is *heavily* inspired by andismith's [grunt-responsive-images](https://github.com/andismith/grunt-responsive-images)\n\n[Big Buck Bunny](http://www.bigbuckbunny.org/) trailer in test assets is (c) copyright 2008, Blender Foundation. It is released under the [Creative Commons Attribution 3.0](http://creativecommons.org/licenses/by/3.0/) license.\n\n[Hot air ballon ride over Cappadocia, Turkey](http://www.youtube.com/watch?v=xIR8TxSBgyg) in test assets is (c) copyright 2012, Josh Williams. It is released under the [Creative Commons Attribution 3.0](http://creativecommons.org/licenses/by/3.0/) license.\n",
  "readmeFilename": "README.md",
  "_id": "grunt-responsive-videos@0.0.3",
  "_from": "grunt-responsive-videos@"
}
